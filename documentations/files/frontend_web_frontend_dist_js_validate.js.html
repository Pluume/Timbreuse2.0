<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>frontend\web_frontend\dist\js\validate.js - Timbreuse</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="Timbreuse" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 2.0.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/client.html">client</a></li>
                                <li><a href="../classes/config.html">config</a></li>
                                <li><a href="../classes/csv.html">csv</a></li>
                                <li><a href="../classes/DataTable.Api.html">DataTable.Api</a></li>
                                <li><a href="../classes/db.html">db</a></li>
                                <li><a href="../classes/frontendHandle.html">frontendHandle</a></li>
                                <li><a href="../classes/frontendUtil.html">frontendUtil</a></li>
                                <li><a href="../classes/holidays.html">holidays</a></li>
                                <li><a href="../classes/informations.html">informations</a></li>
                                <li><a href="../classes/leavereq.html">leavereq</a></li>
                                <li><a href="../classes/log.html">log</a></li>
                                <li><a href="../classes/login.html">login</a></li>
                                <li><a href="../classes/math.html">math</a></li>
                                <li><a href="../classes/pages.html">pages</a></li>
                                <li><a href="../classes/server.html">server</a></li>
                                <li><a href="../classes/server_methods.html">server_methods</a></li>
                                <li><a href="../classes/slave.html">slave</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/client.html">client</a></li>
                                <li><a href="../modules/config.html">config</a></li>
                                <li><a href="../modules/csv.html">csv</a></li>
                                <li><a href="../modules/db.html">db</a></li>
                                <li><a href="../modules/frontendHandle.html">frontendHandle</a></li>
                                <li><a href="../modules/frontendUtil.html">frontendUtil</a></li>
                                <li><a href="../modules/holidays.html">holidays</a></li>
                                <li><a href="../modules/informations.html">informations</a></li>
                                <li><a href="../modules/leavereq.html">leavereq</a></li>
                                <li><a href="../modules/log.html">log</a></li>
                                <li><a href="../modules/login.html">login</a></li>
                                <li><a href="../modules/main.html">main</a></li>
                                <li><a href="../modules/math.html">math</a></li>
                                <li><a href="../modules/pages.html">pages</a></li>
                                <li><a href="../modules/request.html">request</a></li>
                                <li><a href="../modules/server.html">server</a></li>
                                <li><a href="../modules/server_methods.html">server_methods</a></li>
                                <li><a href="../modules/slave.html">slave</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: frontend\web_frontend\dist\js\validate.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
// JavaScript Validation For Registration Page
window.$ = window.jQuery = require(&#x27;../vendor/jquery/jquery.min.js&#x27;);
/**
 * Cancel a formName
 * @method cancelForm
 * @param  {String}   formName The form&#x27;s name
 */
function cancelForm(formName) {
  $(formName).validate().resetForm();
  $(formName + &#x27; span[id=&quot;error&quot;]&#x27;).html(&quot;&quot;);
}
/**
 * Validator for the add student modal
 * @method validateCreateStd
 */
function validateCreateStd() { // http://demos.codingcage.com/bs-form-validation/
  $(&quot;#addStudentForm&quot;).validate({

    rules: {
      cfname: { //Field name
        required: true, //Is it required ?
        validName: true //Type of checking ? See below for the list of checking function defined
      },
      clname: {
        required: true,
        validName: true
      },
      cusername: {
        required: true,
        validUsername: true
      },
      cdob: {
        required: false,
        validDate: true
      },
      cemail: {
        required: false,
        validEmail: true
      },
      ctag: {
        required: true
      }
    },
    messages: {
      cfname: {
        required: &quot;Please enter a first name&quot;, //Message on empty input
        validName: &quot;Name must contain only alphabets, space and dash&quot; //Message on invalid input
      },
      clname: {
        required: &quot;Please enter a last name&quot;,
        validName: &quot;Name must contain only alphabets, space and dash&quot;
      },
      cusername: {
        required: &quot;Please enter a username&quot;,
        validUsername: &quot;Only a-z A-Z 1-9 . - _ accepted&quot;
      },
      cdob: {
        validDate: &quot;Date format DD-MM-YYYY&quot;
      },
      cemail: {
        required: &quot;Please enter an email&quot;,
        validEmail: &quot;Please enter as the following format : test@test.com&quot;
      },
      ctag: {
        required: &quot;Please enter a tag&quot;
      }
    },
    errorPlacement: function(error, element) {
      $(element).closest(&#x27;.form-group&#x27;).find(&#x27;.help-block&#x27;).html(error.html());
    },
    highlight: function(element) {
      $(element).closest(&#x27;.form-group&#x27;).removeClass(&#x27;has-success&#x27;).addClass(&#x27;has-error&#x27;);
    },
    unhighlight: function(element, errorClass, validClass) {
      $(element).closest(&#x27;.form-group&#x27;).removeClass(&#x27;has-error&#x27;).addClass(&#x27;has-success&#x27;);
      $(element).closest(&#x27;.form-group&#x27;).find(&#x27;.help-block&#x27;).html(&#x27;&#x27;);
    },

    submitHandler: function(form) {
      submitCreateModal();//Function to call on validated and submited form
    }
  });

}
/**
 * Validator for the create prof modal
 * @method validateCreateProf
 */
function validateCreateProf() { // http://demos.codingcage.com/bs-form-validation/
  $(&quot;#addProfModalForm&quot;).validate({

    rules: {
      ctclass: {
        required: true,
        validClass: true
      },
      cfname: {
        required: true,
        validName: true
      },
      clname: {
        required: true,
        validName: true
      },
      cusername: {
        required: true,
        validUsername: true
      },
      cdob: {
        required: false,
        validDate: true
      },
      cemail: {
        required: false,
        validEmail: true
      },
      ctag: {
        required: true
      }
    },
    messages: {
      ctclass: {
        required: &quot;Please enter a valid class name&quot;,
        validClass: &quot;Name must contain only alphabets, numbers, space and dash&quot;
      },
      cfname: {
        required: &quot;Please enter a first name&quot;,
        validName: &quot;Name must contain only alphabets, space and dash&quot;
      },
      clname: {
        required: &quot;Please enter a last name&quot;,
        validName: &quot;Name must contain only alphabets, space and dash&quot;
      },
      cusername: {
        required: &quot;Please enter a username&quot;,
        validUsername: &quot;Only a-z A-Z 1-9 . - _ accepted&quot;
      },
      cdob: {
        validDate: &quot;Date format DD-MM-YYYY&quot;
      },
      cemail: {
        required: &quot;Please enter an email&quot;,
        validEmail: &quot;Please enter as the following format : test@test.com&quot;
      },
      ctag: {
        required: &quot;Please enter a tag&quot;
      }
    },
    errorPlacement: function(error, element) {
      $(element).closest(&#x27;.form-group&#x27;).find(&#x27;.help-block&#x27;).html(error.html());
    },
    highlight: function(element) {
      $(element).closest(&#x27;.form-group&#x27;).removeClass(&#x27;has-success&#x27;).addClass(&#x27;has-error&#x27;);
    },
    unhighlight: function(element, errorClass, validClass) {
      $(element).closest(&#x27;.form-group&#x27;).removeClass(&#x27;has-error&#x27;).addClass(&#x27;has-success&#x27;);
      $(element).closest(&#x27;.form-group&#x27;).find(&#x27;.help-block&#x27;).html(&#x27;&#x27;);
    },

    submitHandler: function(form) {
      submitCreateModal();
      $(&quot;#addProfModal&quot;).modal(&quot;hide&quot;);
    }
  });

}
/**
 * Validate edit student modal
 * @method validateEditStd
 */
function validateEditStd() {
  $(&quot;#editStudentForm&quot;).validate({

    rules: {
      efname: {
        validName: true
      },
      elname: {
        validName: true
      },
      eusername: {
        validUsername: true
      },
      edob: {
        validDate: true
      },
      eemail: {
        validEmail: true
      }
    },
    messages: {
      efname: {
        validName: &quot;Name must contain only alphabets, space and dash&quot;
      },
      elname: {
        validName: &quot;Name must contain only alphabets, space and dash&quot;
      },
      eusername: {
        validUsername: &quot;Only a-z A-Z 1-9 . - _ accepted&quot;
      },
      edob: {
        validDate: &quot;Date format DD-MM-YYYY&quot;
      },
      eemail: {
        validEmail: &quot;Please enter as the following format : test@test.com&quot;
      }
    },
    errorPlacement: function(error, element) {
      $(element).closest(&#x27;.form-group&#x27;).find(&#x27;.help-block&#x27;).html(error.html());
    },
    highlight: function(element) {
      $(element).closest(&#x27;.form-group&#x27;).removeClass(&#x27;has-success&#x27;).addClass(&#x27;has-error&#x27;);
    },
    unhighlight: function(element, errorClass, validClass) {
      $(element).closest(&#x27;.form-group&#x27;).removeClass(&#x27;has-error&#x27;).addClass(&#x27;has-success&#x27;);
      $(element).closest(&#x27;.form-group&#x27;).find(&#x27;.help-block&#x27;).html(&#x27;&#x27;);
    },

    submitHandler: function(form) {
      submitEditModal($(form).find(&#x27;#editStudentID&#x27;).attr(&#x27;value&#x27;));

    }
  });

}
/**
 * Validate edit prof modal
 * @method validateEditProf
 */
function validateEditProf() {
  $(&quot;#editProfModalForm&quot;).validate({

    rules: {
      etclass: {
        validName: true
      },
      efname: {
        validName: true
      },
      elname: {
        validName: true
      },
      eusername: {
        validUsername: true
      },
      edob: {
        validDate: true
      },
      eemail: {
        validEmail: true
      }
    },
    messages: {
      efname: {
        validName: &quot;Name must contain only alphabets, space and dash&quot;
      },
      elname: {
        validName: &quot;Name must contain only alphabets, space and dash&quot;
      },
      eusername: {
        validUsername: &quot;Only a-z A-Z 1-9 . - _ accepted&quot;
      },
      edob: {
        validDate: &quot;Date format DD-MM-YYYY&quot;
      },
      eemail: {
        validEmail: &quot;Please enter as the following format : test@test.com&quot;
      }
    },
    errorPlacement: function(error, element) {
      $(element).closest(&#x27;.form-group&#x27;).find(&#x27;.help-block&#x27;).html(error.html());
    },
    highlight: function(element) {
      $(element).closest(&#x27;.form-group&#x27;).removeClass(&#x27;has-success&#x27;).addClass(&#x27;has-error&#x27;);
    },
    unhighlight: function(element, errorClass, validClass) {
      $(element).closest(&#x27;.form-group&#x27;).removeClass(&#x27;has-error&#x27;).addClass(&#x27;has-success&#x27;);
      $(element).closest(&#x27;.form-group&#x27;).find(&#x27;.help-block&#x27;).html(&#x27;&#x27;);
    },

    submitHandler: function(form) {
      editProfSubmit($(form).find(&#x27;#editProfId&#x27;).attr(&#x27;value&#x27;));
      $(&quot;#editProfModal&quot;).modal(&quot;hide&quot;);
    }
  });

}
/**
 * Validate &quot;create leave application&quot; for student
 * @method validateStudentCreateLeaveRequest
 */
function validateStudentCreateLeaveRequest() {
  $(&quot;#addLeaveRequestForm&quot;).validate({

    rules: {
      csdate: {
        validDateTime: true
      },
      cedate: {
        validDateTime: true
      }
    },
    messages: {
      csdate: {
        validDateTime: &quot;Date format DD-MM-YYYY hh:mm&quot;,
        required: &quot;This field is required&quot;
      },
      cedate: {
        validDateTime: &quot;Date format DD-MM-YYYY hh:mm&quot;,
        required: &quot;This field is required&quot;
      }
    },
    errorPlacement: function(error, element) {
      $(element).closest(&#x27;.form-group&#x27;).find(&#x27;.help-block&#x27;).html(error.html());
    },
    highlight: function(element) {
      $(element).closest(&#x27;.form-group&#x27;).removeClass(&#x27;has-success&#x27;).addClass(&#x27;has-error&#x27;);
    },
    unhighlight: function(element, errorClass, validClass) {
      $(element).closest(&#x27;.form-group&#x27;).removeClass(&#x27;has-error&#x27;).addClass(&#x27;has-success&#x27;);
      $(element).closest(&#x27;.form-group&#x27;).find(&#x27;.help-block&#x27;).html(&#x27;&#x27;);
    },

    submitHandler: function(form) {
      var date1, date2,missedTest,reason,reasonDesc,proof,where;
      date1 = moment(document.getElementById(&quot;csdate&quot;).value, &quot;DD-MM-YYYY H:mm&quot;).format();
      date2 = moment(document.getElementById(&quot;cedate&quot;).value, &quot;DD-MM-YYYY H:mm&quot;).format();
      missedTest = document.getElementById(&quot;cmissedTest&quot;).checked;
      reason = $(&#x27;input[name=&quot;reasonradio&quot;]:checked&#x27;).val();
      reasonDesc = document.getElementById(&quot;creasonDesc&quot;).value;
      proof = $(&#x27;input[name=&quot;proofradio&quot;]:checked&#x27;).val();;
      where = document.getElementById(&quot;cplace&quot;).value;
      createLeaveRequest(date1, date2, missedTest, reason, reasonDesc, proof, where, () =&gt; {
        getLRForStudent(&quot;LRTable&quot;, () =&gt; {

        });
      });
      $(&quot;#addLeaveRequest&quot;).modal(&quot;hide&quot;);
    }
  });

}
/**
 * Validate &quot;create leave application&quot; for prof
 * @method validateProfCreateLeaveRequest
 */
function validateProfCreateLeaveRequest() {
  $(&quot;#addLeaveRequestForm&quot;).validate({

    rules: {
      csdate: {
        validDateTime: true
      },
      cedate: {
        validDateTime: true
      }
    },
    messages: {
      csdate: {
        validDateTime: &quot;Date format DD-MM-YYYY hh:mm&quot;,
        required: &quot;This field is required&quot;
      },
      cedate: {
        validDateTime: &quot;Date format DD-MM-YYYY hh:mm&quot;,
        required: &quot;This field is required&quot;
      }
    },
    errorPlacement: function(error, element) {
      $(element).closest(&#x27;.form-group&#x27;).find(&#x27;.help-block&#x27;).html(error.html());
    },
    highlight: function(element) {
      $(element).closest(&#x27;.form-group&#x27;).removeClass(&#x27;has-success&#x27;).addClass(&#x27;has-error&#x27;);
    },
    unhighlight: function(element, errorClass, validClass) {
      $(element).closest(&#x27;.form-group&#x27;).removeClass(&#x27;has-error&#x27;).addClass(&#x27;has-success&#x27;);
      $(element).closest(&#x27;.form-group&#x27;).find(&#x27;.help-block&#x27;).html(&#x27;&#x27;);
    },

    submitHandler: function(form) {
      var date1, date2,missedTest,reason,reasonDesc,proof,where;
      date1 = moment(document.getElementById(&quot;csdate&quot;).value, &quot;DD-MM-YYYY H:mm&quot;).format();
      date2 = moment(document.getElementById(&quot;cedate&quot;).value, &quot;DD-MM-YYYY H:mm&quot;).format();
      var studentID = $(&quot;#stdListSelect&quot;).val();
      missedTest = document.getElementById(&quot;cmissedTest&quot;).checked;
      reason = $(&#x27;input[name=&quot;reasonradio&quot;]:checked&#x27;).val();
      reasonDesc = document.getElementById(&quot;creasonDesc&quot;).value;
      proof = $(&#x27;input[name=&quot;proofradio&quot;]:checked&#x27;).val();;
      where = document.getElementById(&quot;cplace&quot;).value;
      createLeaveRequest(date1, date2, missedTest, reason, reasonDesc, proof, where, () =&gt; {
        getLR(&quot;LRTable&quot;, () =&gt; {

        });
      }, studentID);
      $(&quot;#addLeaveRequest&quot;).modal(&quot;hide&quot;);
    }
  });

}
/**
 * Define all the validator function and activate the plugin
 * @method activateValidator
 */
function activateValidator() {
  // name validation
  var nameregex = /^[a-zA-Z \-]+$/;
  var moment = require(&quot;electron&quot;).remote.require(&quot;moment&quot;);
  $.validator.addMethod(&quot;validName&quot;, function(value, element) {
    return this.optional(element) || nameregex.test(value);
  });

  // valid email pattern
  var eregex = /^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;

  $.validator.addMethod(&quot;validEmail&quot;, function(value, element) {
    return this.optional(element) || eregex.test(value);
  });

  $.validator.addMethod(&quot;validDate&quot;, function(value, element) {
    return this.optional(element) || moment(value, &quot;DD-MM-YYYY&quot;, true).isValid();
  });
  $.validator.addMethod(&quot;validDateTime&quot;, function(value, element) {
    return this.optional(element) || moment(value, &quot;DD-MM-YYYY H:mm&quot;, true).isValid();
  });

  $.validator.addMethod(&quot;validTime&quot;, function(value, element) {
    return this.optional(element) || moment(value, &quot;HH:MM&quot;).isValid();
  });
  var classregex = /^[a-zA-Z1-9 \-]+$/;
  $.validator.addMethod(&quot;validClass&quot;, function(value, element) {
  return this.optional(element) || classregex.test(value);
  });
  var usernameregex = /^[a-zA-Z1-9\-\.\_]+$/;
  $.validator.addMethod(&quot;validUsername&quot;, function(value, element) {
    return this.optional(element) || usernameregex.test(value);
  });
  if (require(&#x27;electron&#x27;).remote.getGlobal(&#x27;currentPage&#x27;) == window.PAGES.PROFS) {
    validateCreateStd();
    validateEditStd();
  } else if (require(&#x27;electron&#x27;).remote.getGlobal(&#x27;currentPage&#x27;) == window.PAGES.ADMIN) {
    validateCreateProf();
    validateEditProf();
  } else if (require(&#x27;electron&#x27;).remote.getGlobal(&#x27;currentPage&#x27;) == window.PAGES.LEAVEREQ_STUDENT) {
    validateStudentCreateLeaveRequest();
  } else if (require(&#x27;electron&#x27;).remote.getGlobal(&#x27;currentPage&#x27;) == window.PAGES.LEAVEREQ_PROF) {
    validateProfCreateLeaveRequest();
  }
}

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
